 <subsystem xmlns="urn:jboss:domain:datasources:4.0">
    <datasources>
        <xa-datasource jndi-name="java:jboss/datasources/TenantDS" pool-name="TenantDS" enabled="true" use-java-context="true">
            <xa-datasource-property name="ServerName">
                localhost
            </xa-datasource-property>
            <xa-datasource-property name="PortNumber">
                5432
            </xa-datasource-property>
            <xa-datasource-property name="DatabaseName">
                tenant
            </xa-datasource-property>
            <driver>postgresql</driver>
            <xa-pool>
                <min-pool-size>1</min-pool-size>
                <max-pool-size>5</max-pool-size>
                <prefill>true</prefill>
            </xa-pool>
            <security>
                <user-name>postgres</user-name>
                <password>serpro</password>
            </security>
            <validation>
                <valid-connection-checker class-name="org.jboss.jca.adapters.jdbc.extensions.postgres.PostgreSQLValidConnectionChecker"/>
                <exception-sorter class-name="org.jboss.jca.adapters.jdbc.extensions.postgres.PostgreSQLExceptionSorter"/>
            </validation>
        </xa-datasource>
        <xa-datasource jndi-name="java:jboss/datasources/MasterDS" pool-name="MasterDS" enabled="true" use-java-context="true">
            <xa-datasource-property name="ServerName">
                localhost
            </xa-datasource-property>
            <xa-datasource-property name="PortNumber">
                5432
            </xa-datasource-property>
            <xa-datasource-property name="DatabaseName">
                master
            </xa-datasource-property>
            <driver>postgresql</driver>
            <xa-pool>
                <min-pool-size>1</min-pool-size>
                <max-pool-size>5</max-pool-size>
                <prefill>true</prefill>
            </xa-pool>
            <security>
                <user-name>postgres</user-name>
                <password>serpro</password>
            </security>
            <validation>
                <valid-connection-checker class-name="org.jboss.jca.adapters.jdbc.extensions.postgres.PostgreSQLValidConnectionChecker"/>
                <exception-sorter class-name="org.jboss.jca.adapters.jdbc.extensions.postgres.PostgreSQLExceptionSorter"/>
            </validation>
        </xa-datasource>
        <drivers>
            <driver name="postgresql" module="org.postgresql">
                <xa-datasource-class>org.postgresql.xa.PGXADataSource</xa-datasource-class>
            </driver>
        </drivers>
    </datasources>
</subsystem>
